他者の個人情報に紐付くid相当の情報を提供する場合
======================================================================

いろいろ要件があるので都度考える必要がある

例1: ゲームサイトにユーザidを提供
----------------------------------------------------

* 同じユーザは同じidを渡さないといけない

* サイトごとに別idを作る?

  * (サイトx会員数)が爆発したら?

    * idの暗号化?

      * idに利用できる文字種/長に制限があってちゃんとした暗号化できなかったら?

例2: ASP(アフィリエイト・サービス・プロバイダ)にユーザidを提供
--------------------------------------------------------------------------------------------------------

`アフィリエイト・サービス・プロバイダ - Wikipedia <http://ja.wikipedia.org/wiki/%E3%82%A2%E3%83%95%E3%82%A3%E3%83%AA%E3%82%A8%E3%82%A4%E3%83%88%E3%83%BB%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%83%BB%E3%83%97%E3%83%AD%E3%83%90%E3%82%A4%E3%83%80>`_

* 同じユーザでも別のidを提供してよい

  * 暗号化?

    * ASPごとにidに使える文字種/長はさまざま

       * 最小公約数的には [0-9A-Za-z](62文字種), 64byte

    * 現状ユーザid以外にもマーケティング用の情報を渡すことも多い

       * どの特集を見たユーザか? などなど

         * 結構一杯ある

    * packして暗号化してbase62(base64じゃないよ)すると, 文字長が厳しかったりする

  * 取引idを別途作って提供?

    * idの文字種/長の制限は回避

      * ユーザid, マーケティング用の情報は別途記録しちゃえばいい

    * 取引数が爆発したら?
    * 取引の成立に期限はない. 1年前の取引に成果がつくことも

      * かなりのデータ数を長期間保持しなければいけない...


